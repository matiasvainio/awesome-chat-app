<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [changeStream][1]
-   [userStream][2]
-   [mongoose.connect][3]
    -   [Parameters][4]
-   [messageSchema][5]
    -   [Parameters][6]
-   [RoomSchema][7]
    -   [Parameters][8]
-   [userSchema][9]
    -   [Parameters][10]
-   [loginRouter_post][11]
    -   [Parameters][12]
    -   [Examples][13]
-   [messageRouter_get_All][14]
    -   [Parameters][15]
    -   [Examples][16]
-   [messageRouter_get_One][17]
    -   [Parameters][18]
    -   [Examples][19]
-   [messageRouter_post_Message][20]
    -   [Parameters][21]
    -   [Examples][22]
-   [messageRouter_put_selected_Message][23]
    -   [Parameters][24]
    -   [Examples][25]
-   [messageRouter_delete_selected_Message][26]
    -   [Parameters][27]
    -   [Examples][28]
-   [roomRouter_get_All][29]
    -   [Parameters][30]
    -   [Examples][31]
-   [roomRouter_get_One][32]
    -   [Parameters][33]
    -   [Examples][34]
-   [roomRouter_post_One][35]
    -   [Parameters][36]
    -   [Examples][37]
-   [roomRouter_update_One][38]
    -   [Parameters][39]
    -   [Examples][40]
-   [roomRouter_delete_One][41]
    -   [Parameters][42]
    -   [Examples][43]
-   [usersRouter_get_All][44]
    -   [Parameters][45]
    -   [Examples][46]
-   [usersRouter_get_One][47]
    -   [Parameters][48]
    -   [Examples][49]
-   [usersRouter_post_One][50]
    -   [Parameters][51]
    -   [Examples][52]
-   [usersRouter_put_One][53]
    -   [Parameters][54]
    -   [Examples][55]
-   [usersRouter_delete_One][56]
    -   [Parameters][57]
    -   [Examples][58]
-   [checkIfLoggedIn][59]
-   [logout][60]
-   [logout][61]
-   [message][62]
-   [placeholder][63]
-   [alignMessages][64]
-   [removeMessage][65]
-   [showMod][66]
-   [handleModify][67]
-   [showMenuButton][68]
-   [Message][69]
-   [Message][70]
-   [messages][71]
-   [removeMessage][72]
    -   [Parameters][73]
-   [modifyMessage][74]
    -   [Parameters][75]
-   [scrollDown][76]
-   [handleLogin][77]
-   [toggleVisibility][78]
-   [LoginForm][79]
-   [handleForm][80]
    -   [Properties][81]
-   [createDateString][82]
-   [MessageForm][83]
-   [handleSignup][84]
-   [toggleVisibility][85]
-   [SignupForm][86]
-   [login][87]
    -   [Parameters][88]
-   [authHeader][89]
-   [messages.getAll][90]
    -   [Parameters][91]
-   [create][92]
    -   [Parameters][93]
-   [create][94]
    -   [Parameters][95]
-   [remove][96]
    -   [Parameters][97]
-   [remove][98]
    -   [Parameters][99]
-   [modify][100]
    -   [Parameters][101]
-   [modify][102]
    -   [Parameters][103]
-   [getRooms][104]
-   [getRoom][105]
    -   [Parameters][106]
-   [updateRoomUsers][107]
    -   [Parameters][108]
-   [users.getAll][109]
-   [getUser][110]
    -   [Parameters][111]
-   [getUser][112]
-   [setUser][113]
    -   [Parameters][114]
-   [addMessage][115]
    -   [Parameters][116]
-   [getMessages][117]
-   [removeMessage][118]
    -   [Parameters][119]
-   [modifyMessage][120]
    -   [Parameters][121]
-   [setupRoom][122]
-   [removeUserFromRoom][123]
-   [addRoomTouser][124]
-   [getRooms][125]
-   [getCurrentUser][126]
-   [handleShow][127]
    -   [Parameters][128]

## changeStream

Watches the message collection for changes using MongoDB change streams.

## userStream

Watches the user collection for changes using MongoDB change streams.

## mongoose.connect

Creating a connection to MongoDB using mongoose.

### Parameters

-   `MONGODB_URI` **[string][129]** Environmental variable for database URI
-   `options` **[json][130]** Additional options for the connection

## messageSchema

Creates mongoose schema for Message model.

### Parameters

-   `roomId` **[string][129]** Id of the room where message was sent
-   `content` **[string][129]** Content of the message
-   `date` **[string][129]** Time when message was sent
-   `user` **[string][129]** User who sent the message

## RoomSchema

Creates mongoose schema for Room model.

### Parameters

-   `roomId` **[string][129]** Id for room
-   `roomName` **[string][129]** Name of the room

## userSchema

Creates mongoose schema for User model.

### Parameters

-   `username` **[string][129]** Username given by user. Has to be unique
-   `passwordHash` **[string][129]** Hashed password
-   `room` **mongoose.Schema.Types.ObjectId** Current room of the user

## loginRouter_post

Gets user information given by user and compares it to information from database.

### Parameters

-   `req` **[string][129]** Express request
-   `res` **[string][129]** Express result

### Examples

```javascript
loginRouter.post('/',
```

## messageRouter_get_All

Gets all messages.

### Parameters

-   `req` **[string][129]** Express get request
-   `res` **[string][129]** Express get result

### Examples

```javascript
router.get('/',
```

## messageRouter_get_One

Gets single message by id.

### Parameters

-   `req` **[string][129]** Express request
-   `res` **[string][129]** Express result

### Examples

```javascript
router.get('/:id',
```

## messageRouter_post_Message

Saves message to database.

### Parameters

-   `req` **[string][129]** Express request
-   `res` **[string][129]** Express result

### Examples

```javascript
router.post('/',
```

## messageRouter_put_selected_Message

Updates selected message.

### Parameters

-   `req` **[string][129]** Express request
-   `res` **[string][129]** Express result

### Examples

```javascript
router.put('/:id',
```

## messageRouter_delete_selected_Message

Delete selected message.

### Parameters

-   `req` **[string][129]** Express request
-   `res` **[string][129]** Express result

### Examples

```javascript
router.delete('/:id',
```

## roomRouter_get_All

Gets all rooms.

### Parameters

-   `req` **[string][129]** Express get request
-   `res` **[string][129]** Express get result

### Examples

```javascript
roomRouter.get('/',
```

## roomRouter_get_One

Gets single room by id.

### Parameters

-   `req` **[string][129]** Express get request
-   `res` **[string][129]** Express get result

### Examples

```javascript
roomRouter.get('/:id',
```

## roomRouter_post_One

Saves room.

### Parameters

-   `req` **[string][129]** Express post request
-   `res` **[string][129]** Express post result

### Examples

```javascript
roomRouter.post('/',
```

## roomRouter_update_One

Updates selected room room.

### Parameters

-   `req` **[string][129]** Express put request
-   `res` **[string][129]** Express put result

### Examples

```javascript
roomRouter.put('/:id',
```

## roomRouter_delete_One

Deletes selected room room.

### Parameters

-   `req` **[string][129]** Express delete request
-   `res` **[string][129]** Express delete result

### Examples

```javascript
roomRouter.delete('/:id',
```

## usersRouter_get_All

Gets all users.

### Parameters

-   `req` **[string][129]** Express get request
-   `res` **[string][129]** Express get result

### Examples

```javascript
usersRouter.get('/',
```

## usersRouter_get_One

Gets one user by given id.

### Parameters

-   `req` **[string][129]** Express get request
-   `res` **[string][129]** Express get result

### Examples

```javascript
usersRouter.get('/:id',
```

## usersRouter_post_One

Add new user to database based on data from express post method.

### Parameters

-   `req` **[string][129]** Express post request
-   `res` **[string][129]** Express post result
-   `validateUser` **express-validator** Custom express validator for username and password

### Examples

```javascript
usersRouter.post('/',
```

## usersRouter_put_One

Updates user based on data from express put method.

### Parameters

-   `req` **[string][129]** Express put request
-   `res` **[string][129]** Express put result

### Examples

```javascript
usersRouter.put('/:id',
```

## usersRouter_delete_One

Deletes user based on data from express delete method.

### Parameters

-   `req` **[string][129]** Express delete request
-   `res` **[string][129]** Express delete result

### Examples

```javascript
usersRouter.delete('/:id',
```

## checkIfLoggedIn

Check if user is already logged in to the site.

## logout

Handles logout. Clears browser localstorage and redirects user to landing page.

## logout

Removes user's credentials from browser's local storage.

## message

Content of message. (user, content and date)

## placeholder

Sets current the messages content as placeholder.

Returns **any** message content.

## alignMessages

Aligns messages on the page based on who sent them.

## removeMessage

Handles remove message click. Sends remove-message event.

## showMod

Handles whether modify button reads modify or close.

## handleModify

Handles modify button action. Sends modify-message event.

## showMenuButton

Handles message click. Shows menu which has remove and modify buttons.

## Message

Component which lists messages sent on current channel.

## Message

Component which represents single message.

## messages

The list which contains the message objects.

## removeMessage

Emits id of the message to be removed to parent component.

### Parameters

-   `id`  

## modifyMessage

Emits message which gets sent to

### Parameters

-   `message`  

## scrollDown

Automatically scrolls the viewport down when new messages are sent.

## handleLogin

Handles user login. Converts username and password into lowercase. Sets user to window local storage.

## toggleVisibility

Toggles whether the password is shown to the user.

## LoginForm

Handles user login.

## handleForm

Main function which handles the form submit. Creates new message with id, roomId, content, date
and user.

Sends add-message event

### Properties

-   `newMessage` **[object][131]** The created message object.

## createDateString

Creates a time string from the current date.

Returns **any** current time.

## MessageForm

Component which handles new message creation. This has a simple form with one input field
and a button.

## handleSignup

Handles sign up forms submit action.

Creates new user object which gets passed to database. After creation
the user is saved to browser's local storage. User is logged in.

## toggleVisibility

Toggles whether the password is shown to the user.

## SignupForm

Component that handles user sign up operations.

## login

Handles login for user. Uses HTTP POST method to send user credentials to the server.

### Parameters

-   `credentials` **[object][131]** The credentials (username, password) for user.

## authHeader

Adds current users token to the HTTP request header.

## messages.getAll

Uses HTTP GET method to get all messages for the current room.

### Parameters

-   `id` **[string][129]** Room id

## create

Uses HTTP POST method to add a message to the database.

### Parameters

-   `message` **[object][131]** New message object.

## create

Uses HTTP POST method to add a user to the database.

### Parameters

-   `user` **[object][131]** User to be added to database.

## remove

Uses HTTP DELETE method to remove a message.

### Parameters

-   `id` **[string][129]** Id of the message.

## remove

Uses HTTP DELETE method to remove user from the database.

### Parameters

-   `id` **[string][129]** Id of the user.

## modify

Uses HTTP PUT method to update a message.

### Parameters

-   `message` **[object][131]** Message object which replaces the old one.

## modify

Uses HTTP PUT method to update user in the database.

### Parameters

-   `user` **[object][131]** User object which replaces the old one.

## getRooms

Uses HTTP GET method to get all rooms from database.

## getRoom

Uses HTTP GET method to get single room from the database.

### Parameters

-   `id` **[string][129]** Id of the room.

## updateRoomUsers

Uses HTTP PUT method to update a room in database.

### Parameters

-   `newRoom` **[object][131]** New room -object which replaces the old one.

## users.getAll

Uses HTTP GET method to get all users from the database.

## getUser

Uses HTTP GET method and id to get a single user from database.

### Parameters

-   `id` **[string][129]** Id of the user.

## getUser

Gets current user from window local storage.

## setUser

Adds current user to window local storage.

### Parameters

-   `user` **[object][131]** User to be added.

## addMessage

Adds message to database and to messages state.

### Parameters

-   `message` **[object][131]** Message to be added to db.

## getMessages

Gets messages from the database and adds them to messages state.

## removeMessage

Removes message from the database.

### Parameters

-   `id` **[string][129]** Id of the message to be removed.

## modifyMessage

Modifies targeted message in the database.

### Parameters

-   `message` **[object][131]** Message to be modified.

## setupRoom

Sets up current room on user connect. Adds current rooms users to this.users
state by filtering users based on their id. Sets up current user state.

## removeUserFromRoom

Removes current user from users collection.

## addRoomTouser

Modifies current user by adding room id to it's room key.

## getRooms

Gets all available rooms from database.

## getCurrentUser

Gets current user from the browser's local storage.

## handleShow

Handles which form (login or sign up) is shown to the user. Pressing buttons toggles
between login and sign up.

### Parameters

-   `event`  

[1]: #changestream

[2]: #userstream

[3]: #mongooseconnect

[4]: #parameters

[5]: #messageschema

[6]: #parameters-1

[7]: #roomschema

[8]: #parameters-2

[9]: #userschema

[10]: #parameters-3

[11]: #loginrouter_post

[12]: #parameters-4

[13]: #examples

[14]: #messagerouter_get_all

[15]: #parameters-5

[16]: #examples-1

[17]: #messagerouter_get_one

[18]: #parameters-6

[19]: #examples-2

[20]: #messagerouter_post_message

[21]: #parameters-7

[22]: #examples-3

[23]: #messagerouter_put_selected_message

[24]: #parameters-8

[25]: #examples-4

[26]: #messagerouter_delete_selected_message

[27]: #parameters-9

[28]: #examples-5

[29]: #roomrouter_get_all

[30]: #parameters-10

[31]: #examples-6

[32]: #roomrouter_get_one

[33]: #parameters-11

[34]: #examples-7

[35]: #roomrouter_post_one

[36]: #parameters-12

[37]: #examples-8

[38]: #roomrouter_update_one

[39]: #parameters-13

[40]: #examples-9

[41]: #roomrouter_delete_one

[42]: #parameters-14

[43]: #examples-10

[44]: #usersrouter_get_all

[45]: #parameters-15

[46]: #examples-11

[47]: #usersrouter_get_one

[48]: #parameters-16

[49]: #examples-12

[50]: #usersrouter_post_one

[51]: #parameters-17

[52]: #examples-13

[53]: #usersrouter_put_one

[54]: #parameters-18

[55]: #examples-14

[56]: #usersrouter_delete_one

[57]: #parameters-19

[58]: #examples-15

[59]: #checkifloggedin

[60]: #logout

[61]: #logout-1

[62]: #message

[63]: #placeholder

[64]: #alignmessages

[65]: #removemessage

[66]: #showmod

[67]: #handlemodify

[68]: #showmenubutton

[69]: #message-1

[70]: #message-2

[71]: #messages

[72]: #removemessage-1

[73]: #parameters-20

[74]: #modifymessage

[75]: #parameters-21

[76]: #scrolldown

[77]: #handlelogin

[78]: #togglevisibility

[79]: #loginform

[80]: #handleform

[81]: #properties

[82]: #createdatestring

[83]: #messageform

[84]: #handlesignup

[85]: #togglevisibility-1

[86]: #signupform

[87]: #login

[88]: #parameters-22

[89]: #authheader

[90]: #messagesgetall

[91]: #parameters-23

[92]: #create

[93]: #parameters-24

[94]: #create-1

[95]: #parameters-25

[96]: #remove

[97]: #parameters-26

[98]: #remove-1

[99]: #parameters-27

[100]: #modify

[101]: #parameters-28

[102]: #modify-1

[103]: #parameters-29

[104]: #getrooms

[105]: #getroom

[106]: #parameters-30

[107]: #updateroomusers

[108]: #parameters-31

[109]: #usersgetall

[110]: #getuser

[111]: #parameters-32

[112]: #getuser-1

[113]: #setuser

[114]: #parameters-33

[115]: #addmessage

[116]: #parameters-34

[117]: #getmessages

[118]: #removemessage-2

[119]: #parameters-35

[120]: #modifymessage-1

[121]: #parameters-36

[122]: #setuproom

[123]: #removeuserfromroom

[124]: #addroomtouser

[125]: #getrooms-1

[126]: #getcurrentuser

[127]: #handleshow

[128]: #parameters-37

[129]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[130]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/JSON

[131]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object
